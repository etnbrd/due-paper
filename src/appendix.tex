% \vfill\eject
\appendix

\section{Evaluation results} \label{section:results}

On the 64 projects tested
\begin{description}
\item[29] (45.3\%) do not contain any compatible continuations,
\item[10] (15.6\%) are not compilable because they contain \texttt{with} or \texttt{eval} statements,
\item[5] (7.8\%) use less common asynchronous libraries we didn't filter previously,
\item[4] (6.3\%) are not syntactically correct,
\item[4] (6.3\%) fail their tests before the compilation,
\item[3] (4.7\%) are not tested, and
\item[10] (14.0\%) compile successfully.
\end{description}
The compiler do not fail to compile any projects.

\begin{figure}[h!]
\begin{tikzpicture}
[
    pie chart,
    slice type={nocont}{gray1},
    slice type={eval}{gray2},
    slice type={lib}{gray3},
    slice type={err}{gray4},
    slice type={fail}{gray5},
    slice type={notest}{gray6},
    slice type={ok}{red},
    pie values/.style={font={\small}},
    scale=2
]

\pie{}{%
  45.3/nocont,%
  15.6/eval,%
  7.8/lib,%
  6.3/err,%
  6.3/fail,%
  4.7/notest,%
  14.0/ok%
}

\legend[shift={(1.3cm,0.9cm)}]{%
  {No continuations}/nocont,%
  {\texttt{with} or \texttt{eval} statments}/eval,%
  {Promises libraries}/lib,%
  {Syntax errors}/err,%
  {Tests fail before compilation}/fail,%
  {Not tested}/notest,%
  {Compiled}/ok%
}
\end{tikzpicture}
\caption{Compilation results distribution}
\end{figure}

29 projects contains no compatible continuations.
\begin{itemize}
\item \texttt{app-json-fetcher}
\item \texttt{express-resource-plus}
\item \texttt{fizzbuzz-hypermedia-server}
\item \texttt{flair}
\item \texttt{generator-wikismith}
\item \texttt{brokowski}
\item \texttt{claus}
\item \texttt{costa}
\item \texttt{express-device}
\item \texttt{heroku-proxy}
\item \texttt{http-test-servers}
\item \texttt{jellyjs-plugin-httpserver}
\item \texttt{loopback-angular-cli}
\item \texttt{loopback-explorer}
\item \texttt{monami}
\item \texttt{mongoose-epxress}
\item \texttt{nodebootstrap-server}
\item \texttt{oauth-express}
\item \texttt{public-server}
\item \texttt{scrapit}
\item \texttt{sik}
\item \texttt{sonea}
\item \texttt{vsoft-explorer}
\item \texttt{webs-weeia}
\item \texttt{code-connect-server}
\item \texttt{csp-endpoint}
\item \texttt{glsl-transition-minify}
\item \texttt{moby}
\item \texttt{squirrel-server}
\end{itemize}

10 projects contains \texttt{eval} or \texttt{with} statements.
\begin{itemize}
\item \texttt{arkhaios}
\item \texttt{browserman}
\item \texttt{infectwit}
\item \texttt{ldapp}
\item \texttt{levelhud}
\item \texttt{manet}
\item \texttt{solid}
\item \texttt{swac}
\item \texttt{swac-odm}
\item \texttt{adnoce}
\end{itemize}

5 projects already use asynchronous frameworks.
\begin{itemize}
\item \texttt{boomerang-server} (es6-promise)
\item \texttt{hyper.io} (when)
\item \texttt{node-lanetix-microservice} (bluebird)
\item \texttt{librarian} (bluebird)
\item \texttt{webtasks} (subtask)
\end{itemize}

4 projects failed their tests before the compilation.
\begin{itemize}
\item \texttt{express-orm-mvc}
\item \texttt{hangout}
\item \texttt{derp}
\item \texttt{ord}
\end{itemize}

3 Projects do not provide tests.
\begin{itemize}
\item \texttt{tuzi}
\item \texttt{inchi-server}
\item \texttt{otwo}
\end{itemize}

9 projects successfully compile.
The compiler detected 172 callbacks, 52 of them are compatible continuations.

\begin{tabular}{l r r r r r r }
                                      & \multicolumn{2}{c}{continuations}      & \multicolumn{4}{c}{chains length}\\
name                                  & total              & compiled          & 1  & 2 & 3 & 4 \\
\hline
\texttt{express-couchUser}            & 40                 & 20                & 9  & 2 & 1 & 1 \\
\texttt{gifsockets-server}            & 3                  & 1                 & 1  &           \\ 
\texttt{node-heroku-bouncer}          & 7                  & 3                 & 3  &           \\
\texttt{moonridge}                    & 37                 & 6                 & 2  & 2         \\
\texttt{redis-key-overview}           & 14                 & 9                 & 6  &   & 1     \\
\texttt{slack-integrator}             & 6                  & 3                 & 1  & 1         \\
\texttt{timbits}                      & 34                 & 8                 & 8              \\
\texttt{tingo-rest}                   & 12                 & 4                 & 4              \\
\texttt{express-endpoint}             & 19                 & 2                 & 2              \\
\hline
total                                 & 172                & 54                & 36 & 5 & 2 & 1 \\
\end{tabular}


% \section{Due implementation} \label{section:dueimpl}

% We present the implementation of Due in listing \ref{lst:dueimpl}, with a small set of test cases in listing \ref{lst:testdueimpl}.

% \includecode{js, %
%              caption={Implementation of Due}, %
%              label={lst:dueimpl}
%              }
%              {../../due/src/index.js}


% \includecode{js, %
%              caption={Tests for the implementation of Due}, %
%              label={lst:testdueimpl}
%              }
%              {../../due/test/index.js}